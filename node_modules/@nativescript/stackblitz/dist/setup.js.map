{
  "version": 3,
  "sources": ["../../../node_modules/@webcontainer/env/dist/index.js", "../src/setup.ts"],
  "sourcesContent": ["var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var a=(e,t)=>c(e,\"name\",{value:t,configurable:!0});var b=(e,t)=>{for(var o in t)c(e,o,{get:t[o],enumerable:!0})},P=(e,t,o,u)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let s of y(t))!d.call(e,s)&&s!==o&&c(e,s,{get:()=>t[s],enumerable:!(u=g(t,s))||u.enumerable});return e};var U=e=>P(c({},\"__esModule\",{value:!0}),e);var x={};b(x,{HostURL:()=>n,isWebContainer:()=>h});module.exports=U(x);var r;try{r=require(\"@blitz/internal/env\")}catch(e){}function h(){return r!=null&&process.versions.webcontainer!=null}a(h,\"isWebContainer\");function p(e){let t=r==null?void 0:r.createServiceHostname(e);if(!t)throw new Error(\"Failed to construct service hostname\");return t}a(p,\"_createServiceHostname\");function f(e){return r==null?void 0:r.isServiceUrl(e)}a(f,\"_isServiceUrl\");function l(e){return r==null?void 0:r.isLocalhost(e)}a(l,\"_isLocalhost\");var n=class{constructor(t){this._url=t;if(this._port=this._url.port,h()&&l(this._url.hostname)){let o=p(this._port);this._url.host=o,this._port===this._url.port&&(this._url.port=\"\")}}static parse(t){return t=typeof t==\"string\"?new URL(t):t,new n(t)}get port(){return h()?this._port:this._url.port}get hash(){return this._url.hash}get host(){return this._url.host}get hostname(){return this._url.hostname}get href(){return this._url.href}get origin(){return this._url.origin}get username(){return this._url.username}get password(){return this._url.password}get pathname(){return this._url.pathname}get protocol(){return this._url.protocol}get search(){return this._url.search}get searchParams(){return this._url.searchParams}update(t){var u;let o=h();for(let s in t){let i=(u=t[s])!=null?u:\"\";if(o)switch(s){case\"port\":{if(this._port=i,(l(this._url.hostname)||f(this._url.hostname))&&(this._url.host=p(i),this._port!==this._url.port))continue;break}case\"host\":{let[m,_=this._port]=i.split(\":\");this._port=_,l(m)&&(i=p(_));break}case\"hostname\":{if(l(i)){if(/\\/|:/.test(i))continue;i=p(this._port)}else this._url.port=this._port;break}case\"href\":{this._url=n.parse(i);continue}}this._url[s]=i}return this}toString(){return this._url.toString()}toJSON(){return this._url.toJSON()}};a(n,\"HostURL\");0&&(module.exports={HostURL,isWebContainer});\n/**\n * @license Copyright 2022 Stackblitz, Inc. All Rights Reserved.\n * Portions of this software are patent pending in USA and EU jurisdictions.\n * More info available at https://stackblitz.com/terms-of-service.\n */\n", "#!/usr/bin/env node\n\nimport { isWebContainer } from \"@webcontainer/env\";\nimport { exec, spawn } from \"child_process\";\nimport path from \"path\";\n\nif (!isWebContainer()) {\n  process.exit();\n}\n\nconst binPath = path.resolve(process.cwd(), \"node_modules/.bin\");\nconst cliShimPath = path.resolve(__dirname, \"index.js\");\n\n// make sure our cli shim is executable\nexec(`chmod +x ${cliShimPath}`);\n\nfunction link(alias, command) {\n  exec(`ln -s ${command} ${binPath}/${alias}`);\n}\n\nconsole.log(\n  \"Setting up NativeScript aliases: ns, nsc, tns and nativescript...\"\n);\n\n// create aliases to match a global NS CLI install...\nlink(\"ns\", cliShimPath);\nlink(\"nsc\", cliShimPath);\nlink(\"tns\", cliShimPath);\nlink(\"nativescript\", cliShimPath);\n\n// install latest preview-cli\n// todo: check latest version, compare with local and only install if outdated to speed up boot time...\nconsole.log(\"Installing @nativescript/preview-cli@latest\");\nspawn(\n  \"npm\",\n  [\n    \"install\",\n    \"@nativescript/preview-cli@latest\",\n    \"--save-dev\",\n    \"--ignore-scripts\",\n  ],\n  {\n    stdio: \"inherit\",\n  }\n);\n\nconsole.log(\"Installing @nativescript/stackblitz@latest\");\nspawn(\n  \"npm\",\n  [\n    \"install\",\n    \"@nativescript/stackblitz@latest\",\n    \"--save-dev\",\n    \"--ignore-scripts\",\n  ],\n  {\n    stdio: \"inherit\",\n  }\n);\n"],
  "mappings": "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",
  "names": ["module", "path"]
}
